<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Michael Luu</title>
    <link>/</link>
      <atom:link href="/index.xml" rel="self" type="application/rss+xml" />
    <description>Michael Luu</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><copyright>Â© Michael Luu 2020</copyright><lastBuildDate>Wed, 14 Oct 2020 00:00:00 +0000</lastBuildDate>
    <image>
      <url>/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_512x512_fill_lanczos_center_2.png</url>
      <title>Michael Luu</title>
      <link>/</link>
    </image>
    
    <item>
      <title>Example Page 1</title>
      <link>/courses/example/example1/</link>
      <pubDate>Sun, 05 May 2019 00:00:00 +0100</pubDate>
      <guid>/courses/example/example1/</guid>
      <description>&lt;p&gt;In this tutorial, I&amp;rsquo;ll share my top 10 tips for getting started with Academic:&lt;/p&gt;
&lt;h2 id=&#34;tip-1&#34;&gt;Tip 1&lt;/h2&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.&lt;/p&gt;
&lt;p&gt;Nullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.&lt;/p&gt;
&lt;p&gt;Cras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.&lt;/p&gt;
&lt;p&gt;Suspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.&lt;/p&gt;
&lt;p&gt;Aliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.&lt;/p&gt;
&lt;h2 id=&#34;tip-2&#34;&gt;Tip 2&lt;/h2&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.&lt;/p&gt;
&lt;p&gt;Nullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.&lt;/p&gt;
&lt;p&gt;Cras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.&lt;/p&gt;
&lt;p&gt;Suspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.&lt;/p&gt;
&lt;p&gt;Aliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Example Page 2</title>
      <link>/courses/example/example2/</link>
      <pubDate>Sun, 05 May 2019 00:00:00 +0100</pubDate>
      <guid>/courses/example/example2/</guid>
      <description>&lt;p&gt;Here are some more tips for getting started with Academic:&lt;/p&gt;
&lt;h2 id=&#34;tip-3&#34;&gt;Tip 3&lt;/h2&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.&lt;/p&gt;
&lt;p&gt;Nullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.&lt;/p&gt;
&lt;p&gt;Cras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.&lt;/p&gt;
&lt;p&gt;Suspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.&lt;/p&gt;
&lt;p&gt;Aliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.&lt;/p&gt;
&lt;h2 id=&#34;tip-4&#34;&gt;Tip 4&lt;/h2&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.&lt;/p&gt;
&lt;p&gt;Nullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.&lt;/p&gt;
&lt;p&gt;Cras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.&lt;/p&gt;
&lt;p&gt;Suspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.&lt;/p&gt;
&lt;p&gt;Aliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Publication Quality Kaplan-Meier Survival Curves using ggplot2</title>
      <link>/post/km_ggplot/</link>
      <pubDate>Wed, 14 Oct 2020 00:00:00 +0000</pubDate>
      <guid>/post/km_ggplot/</guid>
      <description>&lt;p&gt;The Kaplan-Meier (KM) survival curves are a hallmark figure that is commonly used to illustrate &amp;ldquo;time to event&amp;rdquo; analysis in clinical research. In this illustrative example, I will be using the &lt;code&gt;veterans&lt;/code&gt; data from the &lt;code&gt;survival&lt;/code&gt; package to construct KM survival curves using &lt;code&gt;ggplot2&lt;/code&gt; and building the figure from basic geoms within the package. I will also provide examples of other publicly available packages that can facilitate in constructing KM figures that utilizes &lt;code&gt;ggplot2&lt;/code&gt;. I believe this is a good exercise and illustrative example in potentially more advanced and little known techniques in &lt;code&gt;ggplot2&lt;/code&gt;, as well as provide insight in the flexibility and capabilities that are available in this package.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;veterans&lt;/code&gt; data comes from a randomised trial of two treatment regimens for lung cancer. Let&amp;rsquo;s start off by loading the &lt;code&gt;veterans&lt;/code&gt; data from the &lt;code&gt;survival&lt;/code&gt; and have a look at the data that we are currently working with.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;df &amp;lt;- survival::veteran %&amp;gt;% as_tibble()

glimpse(df)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Rows: 137
## Columns: 8
## $ trt      &amp;lt;dbl&amp;gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1...
## $ celltype &amp;lt;fct&amp;gt; squamous, squamous, squamous, squamous, squamous, squamous...
## $ time     &amp;lt;dbl&amp;gt; 72, 411, 228, 126, 118, 10, 82, 110, 314, 100, 42, 8, 144,...
## $ status   &amp;lt;dbl&amp;gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1...
## $ karno    &amp;lt;dbl&amp;gt; 60, 70, 60, 60, 70, 20, 40, 80, 50, 70, 60, 40, 30, 80, 70...
## $ diagtime &amp;lt;dbl&amp;gt; 7, 5, 3, 9, 11, 5, 10, 29, 18, 6, 4, 58, 4, 9, 11, 3, 9, 2...
## $ age      &amp;lt;dbl&amp;gt; 69, 64, 38, 63, 65, 49, 69, 68, 43, 70, 81, 63, 63, 52, 48...
## $ prior    &amp;lt;dbl&amp;gt; 0, 10, 0, 10, 10, 0, 10, 0, 0, 0, 0, 10, 0, 10, 10, 0, 0, ...
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;df
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 137 x 8
##      trt celltype  time status karno diagtime   age prior
##    &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;    &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
##  1     1 squamous    72      1    60        7    69     0
##  2     1 squamous   411      1    70        5    64    10
##  3     1 squamous   228      1    60        3    38     0
##  4     1 squamous   126      1    60        9    63    10
##  5     1 squamous   118      1    70       11    65    10
##  6     1 squamous    10      1    20        5    49     0
##  7     1 squamous    82      1    40       10    69    10
##  8     1 squamous   110      1    80       29    68     0
##  9     1 squamous   314      1    50       18    43     0
## 10     1 squamous   100      0    70        6    70     0
## # ... with 127 more rows
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The codebook for the dataset is provided below as follows:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;trt&lt;/strong&gt;: 1=standard 2=test&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;celltype&lt;/strong&gt;: 1=squamous, 2=smallcell, 3=adeno, 4=large&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;time&lt;/strong&gt;: survival time (days)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;status&lt;/strong&gt;: censoring status&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;karno&lt;/strong&gt;: Karnofsky performance score (100=good)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;diagtime&lt;/strong&gt;: months from diagnosis to randomisation&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;age&lt;/strong&gt;: in years&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;prior&lt;/strong&gt;: prior therapy 0=no, 10=yes&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To handle &amp;lsquo;time to event&amp;rsquo; data in R, we will first need to construct a survival object that encapsulates both the time to event information &lt;code&gt;time&lt;/code&gt; in our dataset as well as the event/censoring variable &lt;code&gt;status&lt;/code&gt;. We can then fit the data using the &lt;code&gt;survfit()&lt;/code&gt; function by constructing a formula with our response variable (survival object) on the left of the &lt;code&gt;~&lt;/code&gt; and the explanatory variable &lt;code&gt;trt&lt;/code&gt; on the right. The &lt;code&gt;summary()&lt;/code&gt; of the object from &lt;code&gt;survfit()&lt;/code&gt; provides us the probability of survival for a given treatment over time.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;fit &amp;lt;- survfit(Surv(time, status) ~ trt, data = df)

summary(fit)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Call: survfit(formula = Surv(time, status) ~ trt, data = df)
## 
##                 trt=1 
##  time n.risk n.event survival std.err lower 95% CI upper 95% CI
##     3     69       1   0.9855  0.0144      0.95771        1.000
##     4     68       1   0.9710  0.0202      0.93223        1.000
##     7     67       1   0.9565  0.0246      0.90959        1.000
##     8     66       2   0.9275  0.0312      0.86834        0.991
##    10     64       2   0.8986  0.0363      0.83006        0.973
##    11     62       1   0.8841  0.0385      0.81165        0.963
##    12     61       2   0.8551  0.0424      0.77592        0.942
##    13     59       1   0.8406  0.0441      0.75849        0.932
##    16     58       1   0.8261  0.0456      0.74132        0.921
##    18     57       2   0.7971  0.0484      0.70764        0.898
##    20     55       1   0.7826  0.0497      0.69109        0.886
##    21     54       1   0.7681  0.0508      0.67472        0.874
##    22     53       1   0.7536  0.0519      0.65851        0.862
##    27     51       1   0.7388  0.0529      0.64208        0.850
##    30     50       1   0.7241  0.0539      0.62580        0.838
##    31     49       1   0.7093  0.0548      0.60967        0.825
##    35     48       1   0.6945  0.0556      0.59368        0.812
##    42     47       1   0.6797  0.0563      0.57782        0.800
##    51     46       1   0.6650  0.0570      0.56209        0.787
##    52     45       1   0.6502  0.0576      0.54649        0.774
##    54     44       2   0.6206  0.0587      0.51565        0.747
##    56     42       1   0.6059  0.0591      0.50040        0.734
##    59     41       1   0.5911  0.0595      0.48526        0.720
##    63     40       1   0.5763  0.0598      0.47023        0.706
##    72     39       1   0.5615  0.0601      0.45530        0.693
##    82     38       1   0.5467  0.0603      0.44049        0.679
##    92     37       1   0.5320  0.0604      0.42577        0.665
##    95     36       1   0.5172  0.0605      0.41116        0.651
##   100     34       1   0.5020  0.0606      0.39615        0.636
##   103     32       1   0.4863  0.0607      0.38070        0.621
##   105     31       1   0.4706  0.0608      0.36537        0.606
##   110     30       1   0.4549  0.0607      0.35018        0.591
##   117     29       2   0.4235  0.0605      0.32017        0.560
##   118     27       1   0.4079  0.0602      0.30537        0.545
##   122     26       1   0.3922  0.0599      0.29069        0.529
##   126     24       1   0.3758  0.0596      0.27542        0.513
##   132     23       1   0.3595  0.0592      0.26031        0.496
##   139     22       1   0.3432  0.0587      0.24535        0.480
##   143     21       1   0.3268  0.0582      0.23057        0.463
##   144     20       1   0.3105  0.0575      0.21595        0.446
##   151     19       1   0.2941  0.0568      0.20151        0.429
##   153     18       1   0.2778  0.0559      0.18725        0.412
##   156     17       1   0.2614  0.0550      0.17317        0.395
##   162     16       2   0.2288  0.0527      0.14563        0.359
##   177     14       1   0.2124  0.0514      0.13218        0.341
##   200     12       1   0.1947  0.0501      0.11761        0.322
##   216     11       1   0.1770  0.0486      0.10340        0.303
##   228     10       1   0.1593  0.0468      0.08956        0.283
##   250      9       1   0.1416  0.0448      0.07614        0.263
##   260      8       1   0.1239  0.0426      0.06318        0.243
##   278      7       1   0.1062  0.0400      0.05076        0.222
##   287      6       1   0.0885  0.0371      0.03896        0.201
##   314      5       1   0.0708  0.0336      0.02793        0.180
##   384      4       1   0.0531  0.0295      0.01788        0.158
##   392      3       1   0.0354  0.0244      0.00917        0.137
##   411      2       1   0.0177  0.0175      0.00256        0.123
##   553      1       1   0.0000     NaN           NA           NA
## 
##                 trt=2 
##  time n.risk n.event survival std.err lower 95% CI upper 95% CI
##     1     68       2   0.9706  0.0205      0.93125        1.000
##     2     66       1   0.9559  0.0249      0.90830        1.000
##     7     65       2   0.9265  0.0317      0.86647        0.991
##     8     63       2   0.8971  0.0369      0.82766        0.972
##    13     61       1   0.8824  0.0391      0.80900        0.962
##    15     60       2   0.8529  0.0429      0.77278        0.941
##    18     58       1   0.8382  0.0447      0.75513        0.930
##    19     57       2   0.8088  0.0477      0.72056        0.908
##    20     55       1   0.7941  0.0490      0.70360        0.896
##    21     54       1   0.7794  0.0503      0.68684        0.884
##    24     53       2   0.7500  0.0525      0.65383        0.860
##    25     51       3   0.7059  0.0553      0.60548        0.823
##    29     48       1   0.6912  0.0560      0.58964        0.810
##    30     47       1   0.6765  0.0567      0.57394        0.797
##    31     46       1   0.6618  0.0574      0.55835        0.784
##    33     45       1   0.6471  0.0580      0.54289        0.771
##    36     44       1   0.6324  0.0585      0.52754        0.758
##    43     43       1   0.6176  0.0589      0.51230        0.745
##    44     42       1   0.6029  0.0593      0.49717        0.731
##    45     41       1   0.5882  0.0597      0.48216        0.718
##    48     40       1   0.5735  0.0600      0.46724        0.704
##    49     39       1   0.5588  0.0602      0.45244        0.690
##    51     38       2   0.5294  0.0605      0.42313        0.662
##    52     36       2   0.5000  0.0606      0.39423        0.634
##    53     34       1   0.4853  0.0606      0.37993        0.620
##    61     33       1   0.4706  0.0605      0.36573        0.606
##    73     32       1   0.4559  0.0604      0.35163        0.591
##    80     31       2   0.4265  0.0600      0.32373        0.562
##    84     28       1   0.4112  0.0597      0.30935        0.547
##    87     27       1   0.3960  0.0594      0.29509        0.531
##    90     25       1   0.3802  0.0591      0.28028        0.516
##    95     24       1   0.3643  0.0587      0.26560        0.500
##    99     23       2   0.3326  0.0578      0.23670        0.467
##   111     20       2   0.2994  0.0566      0.20673        0.434
##   112     18       1   0.2827  0.0558      0.19203        0.416
##   133     17       1   0.2661  0.0550      0.17754        0.399
##   140     16       1   0.2495  0.0540      0.16326        0.381
##   164     15       1   0.2329  0.0529      0.14920        0.363
##   186     14       1   0.2162  0.0517      0.13538        0.345
##   201     13       1   0.1996  0.0503      0.12181        0.327
##   231     12       1   0.1830  0.0488      0.10851        0.308
##   242     10       1   0.1647  0.0472      0.09389        0.289
##   283      9       1   0.1464  0.0454      0.07973        0.269
##   340      8       1   0.1281  0.0432      0.06609        0.248
##   357      7       1   0.1098  0.0407      0.05304        0.227
##   378      6       1   0.0915  0.0378      0.04067        0.206
##   389      5       1   0.0732  0.0344      0.02912        0.184
##   467      4       1   0.0549  0.0303      0.01861        0.162
##   587      3       1   0.0366  0.0251      0.00953        0.140
##   991      2       1   0.0183  0.0180      0.00265        0.126
##   999      1       1   0.0000     NaN           NA           NA
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The base R plotting method provides us with a basic KM figure. We can generate the figure by using the &lt;code&gt;plot()&lt;/code&gt; function on the &lt;code&gt;fit&lt;/code&gt; object.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;plot(fit)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/ggplot2km/index_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;576&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;GGally&lt;/code&gt; package also includes &lt;code&gt;ggsurv()&lt;/code&gt; which actually uses the &lt;code&gt;ggplot2&lt;/code&gt; in the backend to construct the figure.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;GGally::ggsurv(fit)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/ggplot2km/index_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;576&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;An even further improved KM figure comes from the &lt;code&gt;survminer&lt;/code&gt; package that includes a &amp;lsquo;Number at risk&amp;rsquo; table that is commonly show in combination with the KM figure.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;survminer::ggsurvplot(fit, data = df, risk.table = T)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/ggplot2km/index_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;576&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The KM figure I&amp;rsquo;m constructing is going to be based on the &lt;code&gt;survminer&lt;/code&gt; figure, that includes the secondary &amp;lsquo;Number at risk&amp;rsquo; table.&lt;/p&gt;
&lt;p&gt;We can start by estimating the survival estimates from day 0 to day 500, I chose 500 since it appears that survival trails off after 500 days and this is a method of truncating the figure. Then we can extract the survival estimates into a a structured tidy tibble.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;s &amp;lt;- summary(fit, times = seq(0, 500, 1), extend = T)

plot_data &amp;lt;- tibble(
  &#39;time&#39; = s$time,
  &#39;n.risk&#39; = s$n.risk,
  &#39;n.event&#39; = s$n.event,
  &#39;n.censor&#39; = s$n.censor,
  &#39;estimate&#39; = s$surv,
  &#39;std.error&#39; = s$std.err,
  &#39;strata&#39; = s$strata
)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now that we have the &amp;lsquo;tidied&amp;rsquo; data, we can start by constructing the base plot we will use to build from. We will map the x axis to &lt;code&gt;time&lt;/code&gt;, the y axis to &lt;code&gt;estimate&lt;/code&gt;, and the fill to &lt;code&gt;strata&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;p &amp;lt;- ggplot(plot_data, aes(x = time, y = estimate, color = strata))

p
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/ggplot2km/index_files/figure-html/unnamed-chunk-7-1.png&#34; width=&#34;576&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The primary geom in building the figure is &lt;code&gt;geom_step()&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;p &amp;lt;- p + geom_step(aes(linetype = strata), size = 1)

p
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/ggplot2km/index_files/figure-html/unnamed-chunk-8-1.png&#34; width=&#34;576&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This is pretty close to the plot that is provided from the &lt;code&gt;GGally&lt;/code&gt; package already, we just need a few more steps to further clean up the axes, adjust the aesthetics, and to add a theme. I also further expanded the x axes to 550 to provide some additional room for curve annotations.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;p &amp;lt;- p + 
  scale_x_continuous(breaks = seq(0, 500, 50)) +
  scale_y_continuous(labels = scales::percent_format()) +
  theme_classic() +
  theme(legend.position = &#39;top&#39;,
        axis.title = element_text(face = &#39;bold&#39;)) +
  labs(x = &#39;Days&#39;, y = &#39;Probability of Survival&#39;) + 
  coord_cartesian(xlim = c(0, 550)) + 
  ggsci::scale_color_d3()


p
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/ggplot2km/index_files/figure-html/unnamed-chunk-9-1.png&#34; width=&#34;576&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We can further supplement this figure by adding markers on the curves using the &lt;code&gt;ggrepel&lt;/code&gt; package. The simplest method I found to identify the coordinates of the ideal location of the annotations is by taking the last point of the curves by strata. Then we can use the &lt;code&gt;geom_text_repel()&lt;/code&gt; function to add the text label to the curves accordingly. Now that we have the annotations on the figure, we can remove the legends to give the actual figure some additional room.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;annotate_data &amp;lt;- plot_data %&amp;gt;%
  group_by(strata) %&amp;gt;%
  slice_tail(1)

p &amp;lt;- p + 
  ggrepel::geom_text_repel(data = annotate_data, aes(x = time, y = estimate, label = strata),
                           xlim = c(500, NA)) + 
  theme(legend.position = &#39;none&#39;)

p
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/ggplot2km/index_files/figure-html/unnamed-chunk-10-1.png&#34; width=&#34;576&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Next, we can construct the &amp;lsquo;At risk&amp;rsquo; table below the figure we just constructed. The table is actually a ggplot, where we are constructing a table of number of at risk plotted by &lt;code&gt;time&lt;/code&gt; on the x axis and &lt;code&gt;strata&lt;/code&gt; on the y axis. Since the time interval for the KM figure is per every 50 days, we will extract the &amp;lsquo;At risk&amp;rsquo; data similarly on a per 100 days basis. The most important concept to remember is to make the scale of the x axis &lt;code&gt;scale_x_continuous()&lt;/code&gt; is identical to the KM figure to have the alignment match between the two. The number at risk is then plotted using &lt;code&gt;geom_text()&lt;/code&gt; with &lt;code&gt;n.risk&lt;/code&gt; as the label.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;table_data &amp;lt;- plot_data %&amp;gt;% 
  filter(
    time %in% seq(0, 500, 50)
  ) 

t &amp;lt;- ggplot(table_data, aes(y = fct_rev(strata), x = time)) + 
  geom_text(aes(label = n.risk)) + 
  scale_x_continuous(breaks = seq(0, 500, 50), limits = c(0, 550))

t
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/ggplot2km/index_files/figure-html/unnamed-chunk-11-1.png&#34; width=&#34;576&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Now that we have a basis of the plot for the table, we can further customize it by adding a theme, and then further clean up the axes and the labels of the figure.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;t &amp;lt;- t + 
  theme(panel.background = element_blank(),
        axis.text.x = element_blank(),
        axis.ticks = element_blank(),
        axis.title = element_blank(),
        axis.text = element_text(face = &#39;bold&#39;))

t
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/ggplot2km/index_files/figure-html/unnamed-chunk-12-1.png&#34; width=&#34;576&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We now have 2 ggplot objects, &lt;code&gt;p&lt;/code&gt; and &lt;code&gt;t&lt;/code&gt;. The &lt;code&gt;patchwork&lt;/code&gt; package is the &amp;lsquo;glue&amp;rsquo; we need to put the two plots together.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;library(patchwork)

km &amp;lt;- (p / t) + plot_layout(height = c(1, .25))

km
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/ggplot2km/index_files/figure-html/unnamed-chunk-13-1.png&#34; width=&#34;576&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;There you have it - a publication quality KM figure ready for submission.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>My life in Months - Making a &#39;life plot&#39; in R using ggplot2 </title>
      <link>/post/mylifeinplots/</link>
      <pubDate>Wed, 07 Oct 2020 00:00:00 +0000</pubDate>
      <guid>/post/mylifeinplots/</guid>
      <description>&lt;p&gt;This blog post is inspired by 
&lt;a href=&#34;https://twitter.com/sharlagelfand&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Sharla Gefland&lt;/a&gt; twitter post found 
&lt;a href=&#34;https://twitter.com/sharlagelfand/status/1282783913002373121?s=20&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;, where she made a &amp;lsquo;My Life in Months&amp;rsquo; plot.&lt;/p&gt;
&lt;p&gt;Annotations have always been the bane of my existence in ggplot2, and I figured this would be a fun project to get some practice. Looking at her github repo found 
&lt;a href=&#34;https://github.com/sharlagelfand/mylifeinmonths&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;, she made this figure using the waffle plot package found 
&lt;a href=&#34;https://cran.r-project.org/web/packages/waffle/index.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;. Although using the waffle package may simplify some aspects of making this figure, recreating this figure in pure ggplot2 will open up the arguments for further customization that may not be available via the waffle package.&lt;/p&gt;
&lt;p&gt;We can start off by creating a tibble for the basis of the plot. The goal here is to create a tibble starting from the starting month (month/year) I was born, until the current month/year. I can create this with the help of the &lt;code&gt;lubridate&lt;/code&gt; package, which simplifies the handling of dates in R, and using this package to further extract the month and year information from the date sequence.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;df &amp;lt;- tibble(
  date = seq(mdy(&#39;9/1/1987&#39;), floor_date(Sys.Date(), &#39;month&#39;), &#39;month&#39;)
) %&amp;gt;%
  mutate(
    month = month(date),
    year = year(date)
  )

df &amp;lt;- tibble(date = seq(mdy(&#39;9/1/1987&#39;), Sys.Date(), &#39;1 month&#39;)) %&amp;gt;%
  mutate(month = month(date),
         year = year(date))

df
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 398 x 3
##    date       month  year
##    &amp;lt;date&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
##  1 1987-09-01     9  1987
##  2 1987-10-01    10  1987
##  3 1987-11-01    11  1987
##  4 1987-12-01    12  1987
##  5 1988-01-01     1  1988
##  6 1988-02-01     2  1988
##  7 1988-03-01     3  1988
##  8 1988-04-01     4  1988
##  9 1988-05-01     5  1988
## 10 1988-06-01     6  1988
## # ... with 388 more rows
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Using the tibble I just created, I can further define the &amp;lsquo;eras&amp;rsquo; that I would like to highlight in the life plot.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;plot_data &amp;lt;- df %&amp;gt;%
  mutate(
    era = case_when(
      date %in% mdy(&#39;9/1/1987&#39;):mdy(&amp;quot;9/1/1991&amp;quot;) ~ &#39;Childhood&#39;,
      date %in% mdy(&#39;10/1/1991&#39;):mdy(&#39;6/1/2005&#39;) ~ &#39;K-12 Grade School&#39;,
      date %in% mdy(&#39;7/1/2005&#39;):mdy(&#39;12/1/2009&#39;) ~ &#39;BSc in Biological Sciences&#39;,
      date %in% mdy(&#39;1/1/2010&#39;):mdy(&#39;7/1/2013&#39;) ~ &#39;Pre Graduate Work&#39;,
      date %in% mdy(&#39;8/1/2013&#39;):mdy(&#39;6/1/2015&#39;) ~ &#39;MPH in Biostatistics &amp;amp; Epidemiology&#39;,
      date %in% mdy(&#39;7/1/2015&#39;):mdy(&#39;8/1/2016&#39;) ~ &#39;Data Analyst&#39;,
      date %in% mdy(&#39;9/1/2016&#39;):Sys.Date() ~ &#39;Biostatistician&#39;
    )
  ) %&amp;gt;%
  mutate(era = factor(
    era,
    levels = c(
      &#39;Childhood&#39;,
      &#39;K-12 Grade School&#39;,
      &#39;BSc in Biological Sciences&#39;,
      &#39;Pre Graduate Work&#39;,
      &#39;MPH in Biostatistics &amp;amp; Epidemiology&#39;,
      &#39;Data Analyst&#39;,
      &#39;Biostatistician&#39;
    )
  ))

plot_data
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 398 x 4
##    date       month  year era      
##    &amp;lt;date&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;    
##  1 1987-09-01     9  1987 Childhood
##  2 1987-10-01    10  1987 Childhood
##  3 1987-11-01    11  1987 Childhood
##  4 1987-12-01    12  1987 Childhood
##  5 1988-01-01     1  1988 Childhood
##  6 1988-02-01     2  1988 Childhood
##  7 1988-03-01     3  1988 Childhood
##  8 1988-04-01     4  1988 Childhood
##  9 1988-05-01     5  1988 Childhood
## 10 1988-06-01     6  1988 Childhood
## # ... with 388 more rows
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Next, I&amp;rsquo;ll create a base plot using ggplot2, where I&amp;rsquo;ll map the x axis to &lt;code&gt;year&lt;/code&gt;, and the y axis to &lt;code&gt;month&lt;/code&gt;. I&amp;rsquo;ll also use the geom, &lt;code&gt;geom_tile()&lt;/code&gt; to create the &amp;lsquo;blocks&amp;rsquo; that we see in the life plot, where we&amp;rsquo;ll map the fill to &lt;code&gt;era&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt; ggplot(plot_data, aes(y = month, x = year)) + 
  geom_tile(color = &#39;white&#39;, aes(fill = era), size = 1)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/mylifeinmonths/index_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;1152&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Now that we have a simple base plot to work with, we can further customize and clean up the figure. A trick to give us a bigger &amp;lsquo;space&amp;rsquo; to work with is to expand the limits of the &lt;code&gt;y&lt;/code&gt; and &lt;code&gt;x&lt;/code&gt; axis. Furthermore, I will use &lt;code&gt;scale_fill_d3()&lt;/code&gt; to add a fill theme to the plot.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;base_plot &amp;lt;- ggplot(plot_data, aes(y = month, x = year)) + 
  geom_tile(color = &#39;white&#39;, aes(fill = era), size = 1) + 
  scale_y_continuous(breaks = -6:18, limits = c(-6, 18)) +
  scale_x_continuous(breaks = 1980:2020) +
  labs(y = &#39;Month&#39;, x = &#39;Year&#39;) + 
  theme(legend.position = &#39;bottom&#39;) + 
  scale_fill_d3()
  

base_plot
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/mylifeinmonths/index_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;1152&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Annotations have always been tricky, because we have to specifically define the coordinates of the annotations we are trying to add. I&amp;rsquo;m going to start off small with a small annotation on the top left corner with an arrow point to the top left square. The segments are created using the &lt;code&gt;geom_curve()&lt;/code&gt; and the text annotations are created using &lt;code&gt;annotate()&lt;/code&gt; via &lt;code&gt;geom_text()&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;## annotate the definition of 1 square = 1 month
plot &amp;lt;- base_plot +
  geom_curve(
    x = 1987,
    y = 12,
    xend = 1986,
    yend = 14,
    curvature = -.4,
    arrow = arrow(length = unit(0.01, &amp;quot;npc&amp;quot;), ends = &#39;first&#39;),
    color = &#39;black&#39;
  ) + 
  annotate(
    &#39;text&#39;,
    x = 1985,
    y = 15,
    hjust = 0,
    label = &#39;1 square = 1 month&#39;,
    family = &amp;quot;Segoe Script&amp;quot;
  )

plot
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/mylifeinmonths/index_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;1152&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Next I&amp;rsquo;ll start to map out exactly where I want each of the labels for the eras to be placed. This definitely took a while, and it helps if you have some forethought on where you want to place the labels.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;### set colors 
pallete_colors &amp;lt;- pal_d3(&amp;quot;category10&amp;quot;)(10)

## set size
annotation_size &amp;lt;- 5

plot &amp;lt;- plot + 
  annotate(
    &#39;text&#39;,
    x = 1989,
    y = -1,
    label = &#39;Childhood&#39;,
    color = pallete_colors[[1]],
    size = annotation_size,
    family = &amp;quot;Segoe Script&amp;quot;
  )  +
  annotate(
    &#39;text&#39;,
    x = 1998,
    y = -1,
    label = &#39;K-12 Grade School&#39;,
    color = pallete_colors[[2]],
    size = annotation_size,
    family = &amp;quot;Segoe Script&amp;quot;
  ) +
  annotate(
    &#39;text&#39;,
    x = 2007.5,
    y = -1,
    label = &#39;BSc in Biological Sciences&#39;,
    color = pallete_colors[[3]],
    size = annotation_size,
    family = &amp;quot;Segoe Script&amp;quot;
  ) +
  annotate(
    &#39;text&#39;,
    x = 2011,
    y = 14,
    label = &#39;Pre Graduate Employment&#39;,
    color = pallete_colors[[4]],
    size = annotation_size,
    family = &amp;quot;Segoe Script&amp;quot;
  ) +
  annotate(
    &#39;text&#39;,
    x = 2013,
    y = -3,
    label = &#39;MPH in Biostatistics &amp;amp; Epidemiology&#39;,
    color = pallete_colors[[5]],
    size = annotation_size,
    family = &amp;quot;Segoe Script&amp;quot;
  ) +
  annotate(
    &#39;text&#39;,
    x = 2012.5,
    y = 16,
    label = &#39;Data Analyst&#39;,
    color = pallete_colors[[6]],
    size = annotation_size,
    family = &amp;quot;Segoe Script&amp;quot;
  ) +
  annotate(
    &#39;text&#39;,
    x = 2018.5,
    y = -1,
    label = &#39;Biostatistician&#39;,
    color = pallete_colors[[7]],
    size = annotation_size,
    family = &amp;quot;Segoe Script&amp;quot;
  ) 

plot
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/mylifeinmonths/index_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;1152&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Now that we have the text placed in all the designated coordinates, we can start working on the arrows.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;## add additional curve segments for labels

plot &amp;lt;- plot + 
  geom_curve(
    x = 1989,
    y = 1,
    xend = 1989,
    yend = -.5,
    curvature = .2,
    arrow = arrow(length = unit(0.01, &#39;npc&#39;), ends = &#39;first&#39;),
    color = &#39;black&#39;
  ) +
  geom_curve(
    x = 1998,
    y = 1,
    xend = 1998,
    yend = -.5,
    curvature = .2,
    arrow = arrow(length = unit(0.01, &#39;npc&#39;), ends = &#39;first&#39;),
    color = &#39;black&#39;
  ) +
  geom_curve(
    x = 2007,
    y = 1,
    xend = 2007,
    yend = -.5,
    curvature = -.2,
    arrow = arrow(length = unit(0.01, &#39;npc&#39;), ends = &#39;first&#39;),
    color = &#39;black&#39;
  ) +
  geom_curve(
    x = 2011,
    y = 12,
    xend = 2011,
    yend = 13.5,
    curvature = -.2,
    arrow = arrow(length = unit(0.01, &#39;npc&#39;), ends = &#39;first&#39;),
    color = &#39;black&#39;
  ) +
  geom_curve(
    x = 2015,
    y = 12,
    xend =  2015,
    yend = 16,
    arrow = arrow(length = unit(0.01, &#39;npc&#39;), ends = &#39;first&#39;),
    color = &#39;black&#39;,
    curvature = .8
  ) +
  geom_curve(
    x = 2014,
    y = 1,
    xend =  2014,
    yend = -2.5,
    arrow = arrow(length = unit(0.01, &#39;npc&#39;), ends = &#39;first&#39;),
    curvature = -0.2,
    color = &#39;black&#39;
  ) +
  geom_curve(
    x = 2018,
    y = 1,
    xend =  2018,
    yend = -0.5,
    arrow = arrow(length = unit(0.01, &#39;npc&#39;), ends = &#39;first&#39;),
    curvature = -0.2,
    color = &#39;black&#39;
  ) 

plot
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/mylifeinmonths/index_files/figure-html/unnamed-chunk-7-1.png&#34; width=&#34;1152&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Now that we have most of the annotations on there, we can add some supplemental annotations, e.g. adding an annotations regarding each column is 1 year, and the segments to finish off the look.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;## let&#39;s add a label for 1 column equals 1 year of age 

plot &amp;lt;- plot + 
  annotate(
    &#39;text&#39;,
    x = 1985,
    y = 6,
    label = &#39;1 year&#39;,
    angle = 90,
    size = 7,
    color = &#39;black&#39;,
    family = &amp;quot;Segoe Script&amp;quot;
  ) + 
  annotate(
    &#39;text&#39;,
    x = 1988,
    y = 13,
    label = &#39;age&#39;,
    size = 5,
    color = &#39;black&#39;,
    family = &amp;quot;Segoe Script&amp;quot;
  ) +
  geom_segment(
    x = 1988.75,
    y = 13,
    xend = 1993,
    yend = 13,
    arrow = arrow(ends = &#39;last&#39;, length = unit(.01, units = &#39;npc&#39;)),
    color = &#39;black&#39;
  ) +
  geom_segment(
    x = 1985,
    xend = 1985,
    y = 8,
    yend = 12,
    color = &#39;black&#39;
  ) +
  geom_segment(
    x = 1985,
    xend = 1985,
    y = 1,
    yend = 4,
    color = &#39;black&#39;
  ) +
  geom_segment(
    x = 1984.5,
    xend = 1985.5,
    y = 12,
    yend = 12,
    color = &#39;black&#39;
  ) +
  geom_segment(
    x = 1984.5,
    xend = 1985.5,
    y = 1,
    yend = 1,
    color = &#39;black&#39;
  ) 

plot
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/mylifeinmonths/index_files/figure-html/unnamed-chunk-8-1.png&#34; width=&#34;1152&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;re almost there - now that we have all the annotations we want on there, we can remove the legend and use a theme to further remove the grid as well as the x and y axis.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;plot &amp;lt;- plot +
  theme_void() +
  theme(
    legend.position = &#39;none&#39;
  )

plot
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/mylifeinmonths/index_files/figure-html/unnamed-chunk-9-1.png&#34; width=&#34;1152&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s finish off this off by adding a title&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;## lets add a title
plot &amp;lt;- plot + 
  annotate(
    &#39;text&#39;,
    x = 1987,
    y = -5,
    label = &#39;Michael Luu&#39;,
    size = 25,
    hjust = 0,
    fontface = &#39;bold.italic&#39;
  )

plot
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/mylifeinmonths/index_files/figure-html/unnamed-chunk-10-1.png&#34; width=&#34;1152&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Full resolution figure can be found 
&lt;a href=&#34;https://raw.githubusercontent.com/mluu921/life_plot/master/mylifeinmonths.png&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt; along with the github repo for the full code 
&lt;a href=&#34;https://github.com/mluu921/life_plot&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Recreating the New York Times mask utilization survey data with the R opensource Leaflet package</title>
      <link>/post/covid19_mask_usage/</link>
      <pubDate>Sun, 04 Oct 2020 00:00:00 +0000</pubDate>
      <guid>/post/covid19_mask_usage/</guid>
      <description>&lt;p&gt;We&amp;rsquo;re going to recreate the NY Times mask-use survey data using R and the leaflet open source interactive mapping package. We can start off by loading the data from the New York Times github repository found 
&lt;a href=&#34;https://github.com/nytimes/covid-19-data/tree/master/mask-use&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;url &amp;lt;- &#39;https://raw.githubusercontent.com/nytimes/covid-19-data/master/mask-use/mask-use-by-county.csv&#39;

df &amp;lt;- read_csv(url)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now that we have the data loaded, lets have a look at the data to see what we&amp;rsquo;re working with&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;glimpse(df)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Rows: 3,142
## Columns: 6
## $ COUNTYFP   &amp;lt;chr&amp;gt; &amp;quot;01001&amp;quot;, &amp;quot;01003&amp;quot;, &amp;quot;01005&amp;quot;, &amp;quot;01007&amp;quot;, &amp;quot;01009&amp;quot;, &amp;quot;01011&amp;quot;, &amp;quot;0...
## $ NEVER      &amp;lt;dbl&amp;gt; 0.053, 0.083, 0.067, 0.020, 0.053, 0.031, 0.102, 0.152, ...
## $ RARELY     &amp;lt;dbl&amp;gt; 0.074, 0.059, 0.121, 0.034, 0.114, 0.040, 0.053, 0.108, ...
## $ SOMETIMES  &amp;lt;dbl&amp;gt; 0.134, 0.098, 0.120, 0.096, 0.180, 0.144, 0.257, 0.130, ...
## $ FREQUENTLY &amp;lt;dbl&amp;gt; 0.295, 0.323, 0.201, 0.278, 0.194, 0.286, 0.137, 0.167, ...
## $ ALWAYS     &amp;lt;dbl&amp;gt; 0.444, 0.436, 0.491, 0.572, 0.459, 0.500, 0.451, 0.442, ...
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;df
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3,142 x 6
##    COUNTYFP NEVER RARELY SOMETIMES FREQUENTLY ALWAYS
##    &amp;lt;chr&amp;gt;    &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;      &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;
##  1 01001    0.053  0.074     0.134      0.295  0.444
##  2 01003    0.083  0.059     0.098      0.323  0.436
##  3 01005    0.067  0.121     0.12       0.201  0.491
##  4 01007    0.02   0.034     0.096      0.278  0.572
##  5 01009    0.053  0.114     0.18       0.194  0.459
##  6 01011    0.031  0.04      0.144      0.286  0.5  
##  7 01013    0.102  0.053     0.257      0.137  0.451
##  8 01015    0.152  0.108     0.13       0.167  0.442
##  9 01017    0.117  0.037     0.15       0.136  0.56 
## 10 01019    0.135  0.027     0.161      0.158  0.52 
## # ... with 3,132 more rows
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;According to the repository, the definitions of the variables are as follows:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;COUNTYFP&lt;/strong&gt;: The county FIPS code.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;NEVER&lt;/strong&gt;: The estimated share of people in this county who would say never in response to the question âHow often do you wear a mask in public when you expect to be within six feet of another person?â&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RARELY&lt;/strong&gt;: The estimated share of people in this county who would say rarely&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SOMETIMES&lt;/strong&gt;: The estimated share of people in this county who would say sometimes&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;FREQUENTLY&lt;/strong&gt;: The estimated share of people in this county who would say frequently&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ALWAYS&lt;/strong&gt;: The estimated share of people in this county who would say always&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;They are also plotting the probability of encountering a mask usage among 5 random encounters in the county.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The chance all five people are wearing masks in five random encounters is calculated by assuming that survey respondents who answered âAlwaysâ were wearing masks all of the time, those who answered âFrequentlyâ were wearing masks 80 percent of the time, those who answered âSometimesâ were wearing masks 50 percent of the time, those who answered âRarelyâ were wearing masks 20 percent of the time and those who answered âNeverâ were wearing masks none of the time.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We can calculate this simply by using the supplied weights (1, .8, .5, .2, and 0) among ALWAYS, FREQUENTLY, SOMETIMES, RARELY, and NEVER mask usage, and taking the sum of the proportion of mask usage among all 5 different types of individuals that have equal probability of encountering.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;df &amp;lt;- df %&amp;gt;%
  mutate(
    prob = (ALWAYS * 1) + (FREQUENTLY * .8) + (SOMETIMES * .5) + (RARELY * .2) + (NEVER * 0)
  )
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Since we have the county FIPS code data available, we&amp;rsquo;ll need to merge this data with county geojson data for the United States which I was able to obtain from 
&lt;a href=&#34;https://eric.clst.org/tech/usgeojson/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;counties &amp;lt;- rgdal::readOGR(&#39;https://eric.clst.org/assets/wiki/uploads/Stuff/gz_2010_us_050_00_500k.json&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## OGR data source with driver: GeoJSON 
## Source: &amp;quot;https://eric.clst.org/assets/wiki/uploads/Stuff/gz_2010_us_050_00_500k.json&amp;quot;, layer: &amp;quot;gz_2010_us_050_00_500k&amp;quot;
## with 3221 features
## It has 6 fields
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;After reading in the US counties data, we can merge the mask usage survey data with the geojson file, by the state and FIPS code. We can create a COUNTYFP variable by pasting together the STATE and COUNTY code&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;counties@data &amp;lt;- counties@data %&amp;gt;%
  mutate(
    COUNTYFP = paste0(STATE, COUNTY)
  ) %&amp;gt;%
  left_join(
    df
  )
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Furthermore after merging the data, we can create a label by merging together the % mask usage data into a HTML string&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;counties@data &amp;lt;- counties@data %&amp;gt;%
  mutate(
    label = glue::glue(
      &#39;&amp;lt;h3&amp;gt;{NAME}&amp;lt;/h3&amp;gt;&amp;lt;br&amp;gt;
      {paste0(format(round(NEVER*100, 1), 1), &amp;quot;%&amp;quot;)} estimated NEVER wear a mask &amp;lt;br&amp;gt;
      {paste0(format(round(RARELY*100, 1), 1), &amp;quot;%&amp;quot;)} estimated RARELY wear a mask &amp;lt;br&amp;gt;
      {paste0(format(round(SOMETIMES*100, 1), 1), &amp;quot;%&amp;quot;)} estimated SOMETIMES wear a mask &amp;lt;br&amp;gt;
      {paste0(format(round(FREQUENTLY*100, 1), 1), &amp;quot;%&amp;quot;)} estimated FREQUENTLY wear a mask &amp;lt;br&amp;gt;
      {paste0(format(round(ALWAYS*100, 1), 1), &amp;quot;%&amp;quot;)} estimated ALWAYS wear a mask &amp;lt;br&amp;gt;&amp;lt;br&amp;gt;
      &amp;lt;h5&amp;gt;This translates to a &amp;lt;b&amp;gt;{paste0(format(round(prob*100, 1), 1), &amp;quot;%&amp;quot;)}&amp;lt;/b&amp;gt; chance that everyone is masked in five random encounters&amp;lt;/h5&amp;gt;&#39;
    ),
    label = map(label, ~ htmltools::HTML(.x))
  )
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Finally, let&amp;rsquo;s put this all together and create a Chloropleth map using the leaflet package&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;color_pal &amp;lt;- colorNumeric(&#39;plasma&#39;, counties$prob)

map &amp;lt;- leaflet(counties) %&amp;gt;%
  addTiles() %&amp;gt;%
  fitBounds(lng1 = -131.519605, lng2 = -64.312607, lat1 = 50.623510, lat2 = 23.415249) %&amp;gt;%
  addPolygons(
    fillColor = ~ color_pal(prob),
    fillOpacity = .75,
    weight = 1,
    color = &#39;white&#39;,
    label = ~ label
  ) %&amp;gt;%
  addLegend(
    position = &#39;bottomright&#39;,
    pal = color_pal,
    values = ~ counties$prob,
    title = &#39;% Mask Usage&#39;,
    labFormat = labelFormat(
      suffix = &#39;%&#39;,
      transform = function(x)
        x * 100
    )
  )

# htmlwidgets::saveWidget(map, &#39;map.html&#39;, selfcontained = T)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
&lt;a href=&#34;http://michaelluu.info/files/covid19_mask_usage/map.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;img src=&#34;leafletmap.jpg&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Natural Language Processing (NLP) and developing a machine learning classifier on Beyonce and Taylor Swift lyrics #TidyTuesday</title>
      <link>/post/taylor_swift_and_beyonce/</link>
      <pubDate>Fri, 02 Oct 2020 00:00:00 +0000</pubDate>
      <guid>/post/taylor_swift_and_beyonce/</guid>
      <description>&lt;p&gt;Let&amp;rsquo;s start off by loading the data from the tidytuesday github repository.&lt;/p&gt;
&lt;h1 id=&#34;reading-in-data&#34;&gt;Reading in data&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;library(tidytuesdayR)
library(tidymodels)
library(tidyverse)
library(textrecipes)
library(future)
library(gt)

plan(multisession)

theme_set(
  theme_light() + 
    theme(panel.grid.minor = element_blank())
)

beyonce_lyrics &amp;lt;-
  readr::read_csv(
    &#39;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-09-29/beyonce_lyrics.csv&#39;
  ) %&amp;gt;%
  janitor::clean_names()

taylor_swift_lyrics &amp;lt;-
  readr::read_csv(
    &#39;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-09-29/taylor_swift_lyrics.csv&#39;
  )  %&amp;gt;%
  janitor::clean_names()
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;data-pre-processing-and-feature-engineering&#34;&gt;Data pre-processing and feature engineering&lt;/h1&gt;
&lt;p&gt;It appears the &lt;strong&gt;beyonce_lyrics&lt;/strong&gt; and the &lt;strong&gt;taylor_swift_lyrics&lt;/strong&gt; are the pertinent data sets for building our machine learning classifier. Let&amp;rsquo;s have a closer look at the two datasets.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;beyonce_lyrics 
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 22,616 x 6
##    line                        song_id song_name artist_id artist_name song_line
##    &amp;lt;chr&amp;gt;                         &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;           &amp;lt;dbl&amp;gt;
##  1 If I ain&#39;t got nothing, I ~   50396 1+1             498 BeyoncÃ©             1
##  2 If I ain&#39;t got something, ~   50396 1+1             498 BeyoncÃ©             2
##  3 &#39;Cause I got it with you      50396 1+1             498 BeyoncÃ©             3
##  4 I don&#39;t know much about al~   50396 1+1             498 BeyoncÃ©             4
##  5 And it&#39;s me and you           50396 1+1             498 BeyoncÃ©             5
##  6 That&#39;s all we&#39;ll have when~   50396 1+1             498 BeyoncÃ©             6
##  7 &#39;Cause baby, we ain&#39;t got ~   50396 1+1             498 BeyoncÃ©             7
##  8 Darling, you got enough fo~   50396 1+1             498 BeyoncÃ©             8
##  9 So come on, baby, make lov~   50396 1+1             498 BeyoncÃ©             9
## 10 When my days look low         50396 1+1             498 BeyoncÃ©            10
## # ... with 22,606 more rows
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;glimpse(beyonce_lyrics)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Rows: 22,616
## Columns: 6
## $ line        &amp;lt;chr&amp;gt; &amp;quot;If I ain&#39;t got nothing, I got you&amp;quot;, &amp;quot;If I ain&#39;t got so...
## $ song_id     &amp;lt;dbl&amp;gt; 50396, 50396, 50396, 50396, 50396, 50396, 50396, 50396,...
## $ song_name   &amp;lt;chr&amp;gt; &amp;quot;1+1&amp;quot;, &amp;quot;1+1&amp;quot;, &amp;quot;1+1&amp;quot;, &amp;quot;1+1&amp;quot;, &amp;quot;1+1&amp;quot;, &amp;quot;1+1&amp;quot;, &amp;quot;1+1&amp;quot;, &amp;quot;1+1&amp;quot;,...
## $ artist_id   &amp;lt;dbl&amp;gt; 498, 498, 498, 498, 498, 498, 498, 498, 498, 498, 498, ...
## $ artist_name &amp;lt;chr&amp;gt; &amp;quot;BeyoncÃ©&amp;quot;, &amp;quot;BeyoncÃ©&amp;quot;, &amp;quot;BeyoncÃ©&amp;quot;, &amp;quot;BeyoncÃ©&amp;quot;, &amp;quot;BeyoncÃ©&amp;quot;, ...
## $ song_line   &amp;lt;dbl&amp;gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, ...
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;taylor_swift_lyrics
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 132 x 4
##    artist    album     title           lyrics                                   
##    &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;           &amp;lt;chr&amp;gt;                                    
##  1 Taylor S~ Taylor S~ Tim McGraw      &amp;quot;He said the way my blue eyes shinx\nPut~
##  2 Taylor S~ Taylor S~ Picture to Burn &amp;quot;State the obvious, I didn&#39;t get my perf~
##  3 Taylor S~ Taylor S~ Teardrops on m~ &amp;quot;Drew looks at me,\nI fake a smile so he~
##  4 Taylor S~ Taylor S~ A Place in Thi~ &amp;quot;I don&#39;t know what I want, so don&#39;t ask ~
##  5 Taylor S~ Taylor S~ Cold As You     &amp;quot;You have a way of coming easily to me\n~
##  6 Taylor S~ Taylor S~ The Outside     &amp;quot;I didn&#39;t know what I would find\nWhen I~
##  7 Taylor S~ Taylor S~ Tied Together ~ &amp;quot;Seems the only one who doesn&#39;t see your~
##  8 Taylor S~ Taylor S~ Stay Beautiful  &amp;quot;Cory&#39;s eyes are like a jungle\nHe smile~
##  9 Taylor S~ Taylor S~ Shouldâve Said~ &amp;quot;It&#39;s strange to think the songs we used~
## 10 Taylor S~ Taylor S~ Maryâs Song     &amp;quot;She said\n\&amp;quot;I was seven, and you were n~
## # ... with 122 more rows
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;glimpse(taylor_swift_lyrics)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Rows: 132
## Columns: 4
## $ artist &amp;lt;chr&amp;gt; &amp;quot;Taylor Swift&amp;quot;, &amp;quot;Taylor Swift&amp;quot;, &amp;quot;Taylor Swift&amp;quot;, &amp;quot;Taylor Swif...
## $ album  &amp;lt;chr&amp;gt; &amp;quot;Taylor Swift&amp;quot;, &amp;quot;Taylor Swift&amp;quot;, &amp;quot;Taylor Swift&amp;quot;, &amp;quot;Taylor Swif...
## $ title  &amp;lt;chr&amp;gt; &amp;quot;Tim McGraw&amp;quot;, &amp;quot;Picture to Burn&amp;quot;, &amp;quot;Teardrops on my Guitar&amp;quot;, &amp;quot;...
## $ lyrics &amp;lt;chr&amp;gt; &amp;quot;He said the way my blue eyes shinx\nPut those Georgia stars...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;strong&gt;beyonce_lyrics&lt;/strong&gt; appears to be structured differently than the &lt;strong&gt;taylor_swift_lyrics&lt;/strong&gt;. The lyrics from Taylor Swift is stored 1 line per title/song name, while Beyonce&amp;rsquo;s lyrics are stored by song lines. This is a problem, and we&amp;rsquo;ll have to rectify this prior to building our classifier.&lt;/p&gt;
&lt;p&gt;My idea of rectifying this would be to collapse the data from Beyonce&amp;rsquo;s lyrics to get them into the same structure as Taylor Swift&amp;rsquo;s lyrics.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;beyonce_lyrics &amp;lt;- beyonce_lyrics %&amp;gt;%
  group_by(
    artist_name, song_name
  ) %&amp;gt;%
  summarise(
    lyrics = paste0(line, collapse = &#39; &#39;)
  ) %&amp;gt;% 
  ungroup() %&amp;gt;%
  select(
    &#39;artist&#39; = artist_name,
    &#39;title&#39; = song_name,
    lyrics
  )

beyonce_lyrics
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 391 x 3
##    artist  title                        lyrics                                  
##    &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;                        &amp;lt;chr&amp;gt;                                   
##  1 BeyoncÃ© &amp;quot;\&amp;quot;Self-Titled\&amp;quot; Part 1 . T~ &amp;quot;I see music. It&#39;s more than just...wha~
##  2 BeyoncÃ© &amp;quot;\&amp;quot;Self-Titled\&amp;quot; Part 2 . I~ &amp;quot;There&#39;s a moment where things click. W~
##  3 BeyoncÃ© &amp;quot;***Flawless (Ft.Â Chimamand~ &amp;quot;Your challengers are a young group fro~
##  4 BeyoncÃ© &amp;quot;***Flawless (Remix) (Ft.Â N~ &amp;quot;Dum-da-de-da Do, do, do, do, do, do (C~
##  5 BeyoncÃ© &amp;quot;&amp;lt;U+200B&amp;gt;come home (nala interlude)&amp;quot; &amp;quot;You have to come home We&#39;ve really nee~
##  6 BeyoncÃ© &amp;quot;&amp;lt;U+200B&amp;gt;war (nala interlude)&amp;quot;       &amp;quot;Your reign is over, Scar If you wanna ~
##  7 BeyoncÃ© &amp;quot;&amp;lt;U+200E&amp;gt;blind trust&amp;quot;                &amp;quot;Go out tonight Feel nice tonight Stay ~
##  8 BeyoncÃ© &amp;quot;1+1&amp;quot;                        &amp;quot;If I ain&#39;t got nothing, I got you If I~
##  9 BeyoncÃ© &amp;quot;2017 Grammy&#39;s Best Urban C~ &amp;quot;Thank you so much. Hi, baby. Thank you~
## 10 BeyoncÃ© &amp;quot;6 Inch (Ft.Â TheÂ Weeknd)&amp;quot;    &amp;quot;Six inch heels, she walked in the club~
## # ... with 381 more rows
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Okay - this appears to be much better, and will allow us to merge them together with the Taylor Swift data. Our outcome &lt;em&gt;y&lt;/em&gt; that we are trying to predict will be the &amp;lsquo;artist&amp;rsquo; column. The features &lt;em&gt;x&lt;/em&gt; will be the song lyrics. In order to get them to a usable state for our model, we will have to perform some preprocessing and feature engineering.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;taylor_swift_lyrics &amp;lt;- taylor_swift_lyrics %&amp;gt;% 
  select(
    artist, title, lyrics
  )

data &amp;lt;- bind_rows(
  taylor_swift_lyrics, beyonce_lyrics
)

data
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 523 x 3
##    artist     title             lyrics                                          
##    &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;             &amp;lt;chr&amp;gt;                                           
##  1 Taylor Sw~ Tim McGraw        &amp;quot;He said the way my blue eyes shinx\nPut those ~
##  2 Taylor Sw~ Picture to Burn   &amp;quot;State the obvious, I didn&#39;t get my perfect fan~
##  3 Taylor Sw~ Teardrops on my ~ &amp;quot;Drew looks at me,\nI fake a smile so he won&#39;t ~
##  4 Taylor Sw~ A Place in This ~ &amp;quot;I don&#39;t know what I want, so don&#39;t ask me\n&#39;Ca~
##  5 Taylor Sw~ Cold As You       &amp;quot;You have a way of coming easily to me\nAnd whe~
##  6 Taylor Sw~ The Outside       &amp;quot;I didn&#39;t know what I would find\nWhen I went l~
##  7 Taylor Sw~ Tied Together Wi~ &amp;quot;Seems the only one who doesn&#39;t see your beauty~
##  8 Taylor Sw~ Stay Beautiful    &amp;quot;Cory&#39;s eyes are like a jungle\nHe smiles; it&#39;s~
##  9 Taylor Sw~ Shouldâve Said No &amp;quot;It&#39;s strange to think the songs we used to sin~
## 10 Taylor Sw~ Maryâs Song       &amp;quot;She said\n\&amp;quot;I was seven, and you were nine\nI ~
## # ... with 513 more rows
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;After merging the data together, we will split our data into a separate training and testing dataset.&lt;/p&gt;
&lt;h1 id=&#34;model-building&#34;&gt;Model building&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;set.seed(1)
splits &amp;lt;- initial_split(data, strata = artist)

train &amp;lt;- training(splits)
test &amp;lt;- testing(splits)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The data has now been split, where 75% of the data we have available will be used to train our classifier, and the remaining 25% will be left for validation of the model and to estimate the overall performance.&lt;/p&gt;
&lt;p&gt;We will next create a &amp;lsquo;recipe&amp;rsquo; and perform feature engineering on our training data. We will do this in various steps, including tokenizing the lyrics, removing stop words, excluding words that appear less than 20 times, performing term-frequency inverse-document-frequency (TF-IDF), and finally normalization.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;rec &amp;lt;- recipe(artist ~ lyrics, data = train) %&amp;gt;%
  step_tokenize(lyrics) %&amp;gt;%
  step_stopwords(lyrics) %&amp;gt;%
  step_tokenfilter(lyrics, min_times = 20, max_tokens = 500) %&amp;gt;%
  step_tfidf(lyrics) %&amp;gt;%
  step_normalize(all_predictors())

rec
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Data Recipe
## 
## Inputs:
## 
##       role #variables
##    outcome          1
##  predictor          1
## 
## Operations:
## 
## Tokenization for lyrics
## Stop word removal for lyrics
## Text filtering for lyrics
## Term frequency-inverse document frequency with lyrics
## Centering and scaling for all_predictors()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now that we have a &amp;lsquo;recipe&amp;rsquo; for pre-processing our data into a usable state to feed into our model, we will create a specification of the classifier. In this instance we will be building a support vector machine (SVM) classifier from the kernlab package.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;svm_spec &amp;lt;- svm_rbf(cost = tune(), rbf_sigma = tune()) %&amp;gt;%
  set_engine(&#39;kernlab&#39;) %&amp;gt;%
  set_mode(&#39;classification&#39;)

svm_spec
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Radial Basis Function Support Vector Machine Specification (classification)
## 
## Main Arguments:
##   cost = tune()
##   rbf_sigma = tune()
## 
## Computational engine: kernlab
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;model-parameter-tuning&#34;&gt;Model parameter tuning&lt;/h2&gt;
&lt;p&gt;The model parameters cost and rbf_sigma will be tuned via a grid search of 25 values&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;svm_wf &amp;lt;- workflow() %&amp;gt;%
  add_model(svm_spec) %&amp;gt;%
  add_recipe(rec)

svm_tune_folds &amp;lt;- vfold_cv(train, strata = artist)

set.seed(1)
svm_tune_res &amp;lt;- tune_grid(
  svm_wf,
  resamples = svm_tune_folds,
  grid = 25
)

tune_metrics &amp;lt;- svm_tune_res %&amp;gt;% collect_metrics()

tune_metrics %&amp;gt;%
  filter(., .metric == &#39;accuracy&#39;) %&amp;gt;%
  ggplot(.,
         aes(y = rbf_sigma, x = cost, color = mean)) +
  geom_point() +
  scale_color_viridis_c()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/taylor_swift_and_beyonce/index_files/figure-html/unnamed-chunk-8-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;svm_tune_res %&amp;gt;% show_best(metric = &#39;accuracy&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 5 x 8
##     cost     rbf_sigma .metric  .estimator  mean     n std_err .config
##    &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;      &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;  
## 1 4.92   0.00122       accuracy binary     0.822    10 0.0143  Model17
## 2 9.16   0.000508      accuracy binary     0.812    10 0.0151  Model10
## 3 3.54   0.000220      accuracy binary     0.789    10 0.0122  Model19
## 4 0.0899 0.0000389     accuracy binary     0.748    10 0.00195 Model01
## 5 0.259  0.00000000111 accuracy binary     0.748    10 0.00195 Model02
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;best_accuracy &amp;lt;- svm_tune_res %&amp;gt;% select_best(., metric = &#39;accuracy&#39;)

best_accuracy
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1 x 3
##    cost rbf_sigma .config
##   &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;  
## 1  4.92   0.00122 Model17
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;final-model&#34;&gt;Final Model&lt;/h1&gt;
&lt;p&gt;The optimal tuning parameters for accuracy appears to be 4.916 for cost and 0.001 for rbf_sigma. We will use these parameters for our final model. We will fit our final model on the full training data, and assess the performance on the test data.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;svm_final_wf &amp;lt;- finalize_workflow(
  svm_wf,
  best_accuracy
)

final_res &amp;lt;- svm_final_wf %&amp;gt;%
  last_fit(splits)

final_metrics &amp;lt;- final_res %&amp;gt;% collect_metrics()

final_metrics
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2 x 3
##   .metric  .estimator .estimate
##   &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;
## 1 accuracy binary         0.869
## 2 roc_auc  binary         0.918
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Our final model using the tuned parameters optimizing for accuracy allowed us to achieve a model accuracy of 86.9% and ROC of 0.92&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s have a closer look at the performance of the model via a confusion matrix&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;final_preds &amp;lt;- final_res %&amp;gt;%
  collect_predictions()


final_preds %&amp;gt;%
  conf_mat(
    ., artist, .pred_class
  ) 
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##               Truth
## Prediction     BeyoncÃ© Taylor Swift
##   BeyoncÃ©           93           13
##   Taylor Swift       4           20
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;final_preds %&amp;gt;%
  conf_mat(
    ., artist, .pred_class
  ) %&amp;gt;%
  summary()
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 13 x 3
##    .metric              .estimator .estimate
##    &amp;lt;chr&amp;gt;                &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;
##  1 accuracy             binary         0.869
##  2 kap                  binary         0.621
##  3 sens                 binary         0.959
##  4 spec                 binary         0.606
##  5 ppv                  binary         0.877
##  6 npv                  binary         0.833
##  7 mcc                  binary         0.634
##  8 j_index              binary         0.565
##  9 bal_accuracy         binary         0.782
## 10 detection_prevalence binary         0.815
## 11 precision            binary         0.877
## 12 recall               binary         0.959
## 13 f_meas               binary         0.916
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;closing&#34;&gt;Closing&lt;/h1&gt;
&lt;p&gt;The model appears to be doing a decent job classifying the artist by the lyrics of the songs with an overall accuracy of 86.9%. Furthermore, the model appears to be doing a better job at classifying Beyonce lyrics than Taylor Swift&amp;rsquo;s&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s have a closer look at the songs that were misclassified from our model&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;test %&amp;gt;%
  select(., -artist) %&amp;gt;%
  bind_cols(final_preds) %&amp;gt;%
  select(
    artist, title,
    .pred_BeyoncÃ©, `.pred_Taylor Swift`,
    .pred_class
  ) %&amp;gt;%
  filter(
    artist != .pred_class
  ) %&amp;gt;%
  mutate(
    across(c(.pred_BeyoncÃ©, `.pred_Taylor Swift`), ~ paste0(format(round(.x*100, 1), 1), &#39;%&#39;))
  ) %&amp;gt;%
  group_by(., artist) %&amp;gt;%
  gt() %&amp;gt;%
  cols_label(
    artist = &#39;Artist&#39;,
    title = &#39;Title&#39;,
    .pred_BeyoncÃ© = &#39;% Beyonce&#39;,
    `.pred_Taylor Swift` = &#39;% Taylor&#39;,
    .pred_class = &#39;Prediction&#39;
  )
&lt;/code&gt;&lt;/pre&gt;
&lt;!--html_preserve--&gt;&lt;style&gt;html {
&lt;p&gt;font-family: -apple-system, BlinkMacSystemFont, &amp;lsquo;Segoe UI&amp;rsquo;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;lsquo;Helvetica Neue&amp;rsquo;, &amp;lsquo;Fira Sans&amp;rsquo;, &amp;lsquo;Droid Sans&amp;rsquo;, Arial, sans-serif;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_table {
display: table;
border-collapse: collapse;
margin-left: auto;
margin-right: auto;
color: #333333;
font-size: 16px;
font-weight: normal;
font-style: normal;
background-color: #FFFFFF;
width: auto;
border-top-style: solid;
border-top-width: 2px;
border-top-color: #A8A8A8;
border-right-style: none;
border-right-width: 2px;
border-right-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #A8A8A8;
border-left-style: none;
border-left-width: 2px;
border-left-color: #D3D3D3;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_heading {
background-color: #FFFFFF;
text-align: center;
border-bottom-color: #FFFFFF;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_title {
color: #333333;
font-size: 125%;
font-weight: initial;
padding-top: 4px;
padding-bottom: 4px;
border-bottom-color: #FFFFFF;
border-bottom-width: 0;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_subtitle {
color: #333333;
font-size: 85%;
font-weight: initial;
padding-top: 0;
padding-bottom: 4px;
border-top-color: #FFFFFF;
border-top-width: 0;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_bottom_border {
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_col_headings {
border-top-style: solid;
border-top-width: 2px;
border-top-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_col_heading {
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: normal;
text-transform: inherit;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
vertical-align: bottom;
padding-top: 5px;
padding-bottom: 6px;
padding-left: 5px;
padding-right: 5px;
overflow-x: hidden;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_column_spanner_outer {
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: normal;
text-transform: inherit;
padding-top: 0;
padding-bottom: 0;
padding-left: 4px;
padding-right: 4px;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_column_spanner_outer:first-child {
padding-left: 0;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_column_spanner_outer:last-child {
padding-right: 0;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_column_spanner {
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
vertical-align: bottom;
padding-top: 5px;
padding-bottom: 6px;
overflow-x: hidden;
display: inline-block;
width: 100%;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_group_heading {
padding: 8px;
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: initial;
text-transform: inherit;
border-top-style: solid;
border-top-width: 2px;
border-top-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
vertical-align: middle;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_empty_group_heading {
padding: 0.5px;
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: initial;
border-top-style: solid;
border-top-width: 2px;
border-top-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
vertical-align: middle;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_from_md &amp;gt; :first-child {
margin-top: 0;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_from_md &amp;gt; :last-child {
margin-bottom: 0;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_row {
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
margin: 10px;
border-top-style: solid;
border-top-width: 1px;
border-top-color: #D3D3D3;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
vertical-align: middle;
overflow-x: hidden;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_stub {
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: initial;
text-transform: inherit;
border-right-style: solid;
border-right-width: 2px;
border-right-color: #D3D3D3;
padding-left: 12px;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_summary_row {
color: #333333;
background-color: #FFFFFF;
text-transform: inherit;
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_first_summary_row {
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
border-top-style: solid;
border-top-width: 2px;
border-top-color: #D3D3D3;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_grand_summary_row {
color: #333333;
background-color: #FFFFFF;
text-transform: inherit;
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_first_grand_summary_row {
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
border-top-style: double;
border-top-width: 6px;
border-top-color: #D3D3D3;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_striped {
background-color: rgba(128, 128, 128, 0.05);
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_table_body {
border-top-style: solid;
border-top-width: 2px;
border-top-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_footnotes {
color: #333333;
background-color: #FFFFFF;
border-bottom-style: none;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
border-left-style: none;
border-left-width: 2px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 2px;
border-right-color: #D3D3D3;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_footnote {
margin: 0px;
font-size: 90%;
padding: 4px;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_sourcenotes {
color: #333333;
background-color: #FFFFFF;
border-bottom-style: none;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
border-left-style: none;
border-left-width: 2px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 2px;
border-right-color: #D3D3D3;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_sourcenote {
font-size: 90%;
padding: 4px;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_left {
text-align: left;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_center {
text-align: center;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_right {
text-align: right;
font-variant-numeric: tabular-nums;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_font_normal {
font-weight: normal;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_font_bold {
font-weight: bold;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_font_italic {
font-style: italic;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_super {
font-size: 65%;
}&lt;/p&gt;
&lt;p&gt;#vvnpopnome .gt_footnote_marks {
font-style: italic;
font-size: 65%;
}
&lt;/style&gt;&lt;/p&gt;
&lt;div id=&#34;vvnpopnome&#34; style=&#34;overflow-x:auto;overflow-y:auto;width:auto;height:auto;&#34;&gt;&lt;table class=&#34;gt_table&#34;&gt;
  &lt;thead class=&#34;gt_col_headings&#34;&gt;
    &lt;tr&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_left&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;Title&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_left&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;% Beyonce&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_left&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;% Taylor&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_center&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;Prediction&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody class=&#34;gt_table_body&#34;&gt;
    &lt;tr class=&#34;gt_group_heading_row&#34;&gt;
      &lt;td colspan=&#34;4&#34; class=&#34;gt_group_heading&#34;&gt;Taylor Swift&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Tell Me Why&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;68.3%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;31.7%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;BeyoncÃ©&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Long Live&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;82.4%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;17.6%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;BeyoncÃ©&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Red&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;69.1%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;30.9%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;BeyoncÃ©&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Holy Ground&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;58.0%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;42.0%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;BeyoncÃ©&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Sad Beautiful Tragic&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;78.9%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;21.1%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;BeyoncÃ©&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Come Back Be Here&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;65.9%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;34.1%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;BeyoncÃ©&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Blank Space&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;64.9%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;35.1%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;BeyoncÃ©&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;How You Get The Girl&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;66.6%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;33.4%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;BeyoncÃ©&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;New Romantics&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;74.1%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;25.9%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;BeyoncÃ©&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Death By A Thousand Cuts&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;80.4%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;19.6%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;BeyoncÃ©&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Afterglow&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;82.8%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;17.2%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;BeyoncÃ©&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;ME&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;83.5%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;16.5%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;BeyoncÃ©&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;my tear ricochet&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;76.3%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;23.7%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;BeyoncÃ©&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr class=&#34;gt_group_heading_row&#34;&gt;
      &lt;td colspan=&#34;4&#34; class=&#34;gt_group_heading&#34;&gt;BeyoncÃ©&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Back to Black (Ft.Â AndrÃ©Â 3000)&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;34.0%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;66.0%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;Taylor Swift&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;New Shoes&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;6.6%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;93.4%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;Taylor Swift&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Pretty Hurts&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;32.2%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;67.8%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;Taylor Swift&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;Stop Sign&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;38.5%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_left&#34;&gt;61.5%&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_center&#34;&gt;Taylor Swift&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;&lt;/div&gt;&lt;!--/html_preserve--&gt;
</description>
    </item>
    
    <item>
      <title>CHLA/USC Division of Neonatology Feeding Calculator</title>
      <link>/project/chla-nicu-feeding-calculator/</link>
      <pubDate>Tue, 29 Sep 2020 00:00:00 +0000</pubDate>
      <guid>/project/chla-nicu-feeding-calculator/</guid>
      <description>&lt;p&gt;A web based online interactive calculator built on top of the R Shiny framework. This web application implements the enteral feeding algorithm developed internally by the quality improvement team of neonatologist and nurses at CHLA by simplifying the necessity for manual calculation, and by providing an interactive environment for custom parameters and report generation. This web application has been implemented and is in currently in clinical use at Childrenâs Hospital Los Angeles, LAC/USC Medical Center, and Hollywood Presbyterian Medical Center&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Slides</title>
      <link>/slides/example/</link>
      <pubDate>Tue, 05 Feb 2019 00:00:00 +0000</pubDate>
      <guid>/slides/example/</guid>
      <description>&lt;h1 id=&#34;create-slides-in-markdown-with-academic&#34;&gt;Create slides in Markdown with Academic&lt;/h1&gt;
&lt;p&gt;
&lt;a href=&#34;https://sourcethemes.com/academic/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Academic&lt;/a&gt; | 
&lt;a href=&#34;https://sourcethemes.com/academic/docs/managing-content/#create-slides&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Documentation&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;features&#34;&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Efficiently write slides in Markdown&lt;/li&gt;
&lt;li&gt;3-in-1: Create, Present, and Publish your slides&lt;/li&gt;
&lt;li&gt;Supports speaker notes&lt;/li&gt;
&lt;li&gt;Mobile friendly slides&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;controls&#34;&gt;Controls&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Next: &lt;code&gt;Right Arrow&lt;/code&gt; or &lt;code&gt;Space&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Previous: &lt;code&gt;Left Arrow&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Start: &lt;code&gt;Home&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Finish: &lt;code&gt;End&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Overview: &lt;code&gt;Esc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Speaker notes: &lt;code&gt;S&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Fullscreen: &lt;code&gt;F&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Zoom: &lt;code&gt;Alt + Click&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;
&lt;a href=&#34;https://github.com/hakimel/reveal.js#pdf-export&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;PDF Export&lt;/a&gt;: &lt;code&gt;E&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;code-highlighting&#34;&gt;Code Highlighting&lt;/h2&gt;
&lt;p&gt;Inline code: &lt;code&gt;variable&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Code block:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;porridge = &amp;quot;blueberry&amp;quot;
if porridge == &amp;quot;blueberry&amp;quot;:
    print(&amp;quot;Eating...&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;math&#34;&gt;Math&lt;/h2&gt;
&lt;p&gt;In-line math: $x + y = z$&lt;/p&gt;
&lt;p&gt;Block math:&lt;/p&gt;
&lt;p&gt;$$
f\left( x \right) = ;\frac{{2\left( {x + 4} \right)\left( {x - 4} \right)}}{{\left( {x + 4} \right)\left( {x + 1} \right)}}
$$&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;fragments&#34;&gt;Fragments&lt;/h2&gt;
&lt;p&gt;Make content appear incrementally&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{{% fragment %}} One {{% /fragment %}}
{{% fragment %}} **Two** {{% /fragment %}}
{{% fragment %}} Three {{% /fragment %}}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Press &lt;code&gt;Space&lt;/code&gt; to play!&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;fragment &#34; &gt;
One
&lt;/span&gt;
&lt;span class=&#34;fragment &#34; &gt;
&lt;strong&gt;Two&lt;/strong&gt;
&lt;/span&gt;
&lt;span class=&#34;fragment &#34; &gt;
Three
&lt;/span&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;A fragment can accept two optional parameters:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;class&lt;/code&gt;: use a custom style (requires definition in custom CSS)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;weight&lt;/code&gt;: sets the order in which a fragment appears&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;speaker-notes&#34;&gt;Speaker Notes&lt;/h2&gt;
&lt;p&gt;Add speaker notes to your presentation&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-markdown&#34;&gt;{{% speaker_note %}}
- Only the speaker can read these notes
- Press `S` key to view
{{% /speaker_note %}}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Press the &lt;code&gt;S&lt;/code&gt; key to view the speaker notes!&lt;/p&gt;
&lt;aside class=&#34;notes&#34;&gt;
  &lt;ul&gt;
&lt;li&gt;Only the speaker can read these notes&lt;/li&gt;
&lt;li&gt;Press &lt;code&gt;S&lt;/code&gt; key to view&lt;/li&gt;
&lt;/ul&gt;

&lt;/aside&gt;
&lt;hr&gt;
&lt;h2 id=&#34;themes&#34;&gt;Themes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;black: Black background, white text, blue links (default)&lt;/li&gt;
&lt;li&gt;white: White background, black text, blue links&lt;/li&gt;
&lt;li&gt;league: Gray background, white text, blue links&lt;/li&gt;
&lt;li&gt;beige: Beige background, dark text, brown links&lt;/li&gt;
&lt;li&gt;sky: Blue background, thin dark text, blue links&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;night: Black background, thick white text, orange links&lt;/li&gt;
&lt;li&gt;serif: Cappuccino background, gray text, brown links&lt;/li&gt;
&lt;li&gt;simple: White background, black text, blue links&lt;/li&gt;
&lt;li&gt;solarized: Cream-colored background, dark green text, blue links&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;

&lt;section data-noprocess data-shortcode-slide
  
      
      data-background-image=&#34;/media/boards.jpg&#34;
  &gt;

&lt;h2 id=&#34;custom-slide&#34;&gt;Custom Slide&lt;/h2&gt;
&lt;p&gt;Customize the slide style and background&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-markdown&#34;&gt;{{&amp;lt; slide background-image=&amp;quot;/media/boards.jpg&amp;quot; &amp;gt;}}
{{&amp;lt; slide background-color=&amp;quot;#0000FF&amp;quot; &amp;gt;}}
{{&amp;lt; slide class=&amp;quot;my-style&amp;quot; &amp;gt;}}
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;custom-css-example&#34;&gt;Custom CSS Example&lt;/h2&gt;
&lt;p&gt;Let&amp;rsquo;s make headers navy colored.&lt;/p&gt;
&lt;p&gt;Create &lt;code&gt;assets/css/reveal_custom.css&lt;/code&gt; with:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-css&#34;&gt;.reveal section h1,
.reveal section h2,
.reveal section h3 {
  color: navy;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;questions&#34;&gt;Questions?&lt;/h1&gt;
&lt;p&gt;
&lt;a href=&#34;https://spectrum.chat/academic&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Ask&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://sourcethemes.com/academic/docs/managing-content/#create-slides&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Documentation&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Resume</title>
      <link>/contact/</link>
      <pubDate>Tue, 01 Jan 2019 00:00:00 +0000</pubDate>
      <guid>/contact/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Resume</title>
      <link>/resume/</link>
      <pubDate>Tue, 01 Jan 2019 00:00:00 +0000</pubDate>
      <guid>/resume/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Privacy Policy</title>
      <link>/privacy/</link>
      <pubDate>Thu, 28 Jun 2018 00:00:00 +0100</pubDate>
      <guid>/privacy/</guid>
      <description>&lt;p&gt;&amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Terms</title>
      <link>/terms/</link>
      <pubDate>Thu, 28 Jun 2018 00:00:00 +0100</pubDate>
      <guid>/terms/</guid>
      <description>&lt;p&gt;&amp;hellip;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
